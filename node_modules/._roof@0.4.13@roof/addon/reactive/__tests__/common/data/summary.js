import Roof from 'roof';

const Summary = Roof.Node.createClass({})

export default  {
  init : function( users ){

    return users.rxTransform(function(){
      var families = {}
      users.forEach( user =>{
        if( families[user.get('family')]){
          families[user.get('family')] += 1
        }else{
          families[user.get('family')] = 1
        }
      })


      return new Summary({families})

    })
  },
  waitFor : ['users']
}